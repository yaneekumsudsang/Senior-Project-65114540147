{% extends "nav.html" %}

{% block title %}
    <!-- Profile View Section -->
    <div class="flex justify-center items-center mt-4">
        <div class="flex border border-[#164863] rounded-full overflow-hidden">
            <a href="{% url 'profile' %}" class="px-6 py-2 bg-white text-[#164863] font-medium m-2 rounded-full focus:outline-none">
                ข้อมูลของฉัน
            </a>
            <a href="{% url 'request_store_ownership' %}" class="px-6 py-2 bg-[#164863] text-white font-medium m-2 rounded-full focus:outline-none">
                ขอเป็นเจ้าของร้าน
            </a>
        </div>
    </div>
    <section class="flex items-center justify-center mt-14">
        <div class="bg-white p-8 rounded-lg shadow-md">
            <h2 class="text-2xl font-bold text-[#164863] mb-6 text-center">ส่งคำขอเป็นเจ้าของร้าน</h2>

            {% if messages %}
    {% for message in messages %}
        <div class="
            px-4 py-3 rounded mb-4 border text-center flex flex-col items-center
            {% if message.tags == 'success' %} bg-[#DDF2FD] border-[#164863] text-[#164863]
            {% elif message.tags == 'warning' %} bg-yellow-100 border-yellow-500 text-yellow-700
            {% elif message.tags == 'error' %} bg-red-100 border-red-500 text-red-700
            {% endif %}
        ">
            {% if message.tags == 'success' %}
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-send">
                    <path d="M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"/>
                    <path d="m21.854 2.147-10.94 10.939"/>
                </svg>
            {% elif message.tags == 'warning' %}
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-send">
                    <path d="M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"/>
                    <path d="m21.854 2.147-10.94 10.939"/>
                    <line x1="2" y1="2" x2="22" y2="22"/>
                </svg>
            {% elif message.tags == 'error' %}
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pencil-line">
                    <path d="M12 20h9"/>
                    <path d="M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z"/>
                    <path d="m15 5 3 3"/>
                </svg>
            {% endif %}

            <span class="mt-2 font-semibold text-lg">{{ message }}</span>
        </div>
    {% endfor %}
{% endif %}

            <form method="POST" class="space-y-4">
                {% csrf_token %}
                <div class="form-group">
                    <label for="{{ form.shop_name.id_for_label }}" class="block text-sm font-medium text-[#164863] mb-2 " >
                        {{ form.shop_name.label }}
                    </label>
                    {{ form.shop_name }}
                    {% if form.shop_name.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ form.shop_name.errors.0 }}</p>
                    {% endif %}
                </div>
                <button type="submit" class="w-full px-6 py-2 bg-[#164863] text-white rounded-lg hover:bg-[#DDF2FD] hover:text-[#164863] transition-colors">
                    ส่งคำขอ
                </button>
            </form>
        </div>
    </section>
{% endblock %}